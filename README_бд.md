# Сервис управления кинотеатром - Структура бд

## Таблицы

### Фильмы (movies):
- id (ПК)
- title - Название фильма.
- duration - Продолжительность фильма (в минутах инт).
- description - Описание фильма.

### Сеансы (session):
- id (ПК) - Уникальный идентификатор сеанса.
- movie_id (ВК) - Ссылка на фильм, который будет показан.
- room_id (ВК) - Ссылка на зал, где будет проходить сеанс.
- session_time - Время начала сеанса.
- session_end_time - Время окончания сеанса, рассчитывается как `session_time` + продолжительность фильма.

### Залы (room):
- id (ПК) - Уникальный идентификатор зала.
- room_name - Название или номер зала.
- seat_count - Количество мест в зале.

### Места (seat):
- id (ПК) - Уникальный идентификатор места.
- room_id (ВК) - Ссылка на зал, где находится место.
- session_id (ВК) - Ссылка на сеанс, к которому привязано место.
- seat_number - Номер места.
- seat_status - Статус места ("свободно", "занято").

### Билеты (ticket):
- id (ПК) - Уникальный идентификатор билета.
- session_id (ВК) - Ссылка на сеанс, на который куплен билет.
- seat_id (ВК) - Ссылка на место, которое забронировано или куплено.
- user_id (ВК) - Ссылка на пользователя, который купил билет.
- purchase_status - Статус покупки ("куплено", "возвращено").

### Пользователи (user):
- id (ПК) - Уникальный идентификатор пользователя.
- name - Имя пользователя.
- email - Электронная почта пользователя.

## Логика работы

1. Создание сеанса: При создании нового сеанса в таблицу `seat` автоматически добавляются записи для каждого места в зале с начальными статусами "свободно". Можно удалять через неделю записи допустим
2. Покупка билета: При покупке билета статус соответствующего места меняется на "занято", и в таблицу `ticket` добавляется запись о покупке.
3. Возврат билета: При возврате билета статус места меняется обратно на "свободно", и покупка аннулируется.
